(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{253:function(t,e,n){"use strict";e.a={computed:{baseUrl:function(){return"https://grantcred.com"}}}},254:function(t,e,n){"use strict";n(18),n(110),n(76);var o=n(253);e.a={data:function(){return{pinstruction:"",plabel:"",popuptype:null}},mixins:[o.a],methods:{closePopup:function(){this.popuptype=null},authenticate:function(t,e){var n=this;fetch("".concat(this.baseUrl,"/").concat(e),{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(t){return t.json()})).then((function(t){var e=t.user,o=t.token;n.setUser(e,o)})).then((function(){n.$router.push("/wallet")})).catch((function(t){return console.log(t)}))},getUser:function(){var t=this,e=localStorage.getItem("nordtokenxtxtxt");e?fetch("".concat(this.baseUrl,"/api/getuser"),{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:e}}).then((function(t){return t.json()})).then((function(e){var n=e.user,o=e.token;t.setUser(n,o)})):this.$router.push("/")},setUser:function(t,e){localStorage.setItem("nordtokenxtxtxt",e),this.$store.dispatch("storeUser",t)},requestSomething:function(body){var t=this;this.popuptype="loading",setTimeout((function(){var e=localStorage.getItem("nordtokenxtxtxt");e&&fetch("".concat(t.baseUrl,"/api/request"),{method:"POST",body:JSON.stringify(body),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:e}}).then((function(t){return t.json()})).then((function(e){t.popuptype="message"})).catch((function(t){console.log(t)}))}),5e3)}},computed:{user:function(){return this.$store.getters.user}},beforeMount:function(){this.getUser()}}},279:function(t,e,n){var content=n(303);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(109).default)("16f77d54",content,!0,{sourceMap:!1})},302:function(t,e,n){"use strict";n(279)},303:function(t,e,n){var o=n(108)(!1);o.push([t.i,".kycuploader__body[data-v-4b0c52a7]{font-size:calc(clamp(350px, 100vw, 3840px)/var(--ideal-viewport-width)*20);display:flex;flex-direction:column}.kycuploader__body--p[data-v-4b0c52a7]{margin-bottom:calc(clamp(350px, 100vw, 3840px)/var(--ideal-viewport-width)*10)}.kycuploader__body--name[data-v-4b0c52a7]{font-size:calc(clamp(350px, 100vw, 3840px)/var(--ideal-viewport-width)*20)}.kycuploader__body--form[data-v-4b0c52a7]{display:flex;flex-direction:column}.kycuploader__body--inputarea[data-v-4b0c52a7]{display:flex;align-items:center}",""]),t.exports=o},398:function(t,e,n){"use strict";n.r(e);n(44),n(18),n(110);var o={props:["label"],data:function(){return{file:"",filename:""}},methods:{handleFileUpload:function(){this.file=this.$refs.file.files[0],this.filename=this.file.name;var label=this.label;this.$bus.$emit("handleUpload",label)},submit:function(t){var e=this,n=localStorage.getItem("nordtokenxtxtxt"),o=new FormData;o.append("kycfile",this.file),fetch("".concat(this.baseUrl,"/").concat(t),{method:"POST",body:o,headers:{Authorization:n}}).then((function(t){return t.json()})).then((function(t){console.log("uploaded",t),e.$bus.$emit("kycUploaded",e.label),e.file="",e.filename="",e.$refs.file.value=""})).catch((function(t){return console.error(t)}))}},mixins:[n(254).a],computed:{kycFiles:function(){return this.$store.getters.kycFiles}},mounted:function(){var t=this;this.$bus.$on("uploadkyc",(function(){return t.file?t.submit("api/upload"):t.$bus.$emit("warning","empty file input field")}))}},r=(n(302),n(42)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"kycuploader"},[n("div",{staticClass:"kycuploader__body"},[n("p",{staticClass:"kycuploader__body--p"},[t._v(t._s(t.label))]),t._v(" "),n("div",{staticClass:"kycuploader__body--form"},[n("p",{staticClass:"kycuploader__body--p kycupload__body--p"},[t._v(t._s(t.filename))]),t._v(" "),n("label",{staticClass:"kycuploader__body--inputarea"},[n("input",{ref:"file",attrs:{type:"file",id:"file"},on:{change:function(e){return t.handleFileUpload(e)}}})])])])])}),[],!1,null,"4b0c52a7",null);e.default=component.exports}}]);